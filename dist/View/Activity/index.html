<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>活动设置</title>
  <script type="text/template" id="red-packet">
		<?php echo json_encode($couponType) ?>
  </script>
<link href="/static/css/main-9828484.css" rel="stylesheet">
<link href="/static/css/Activity\index-627e748.css" rel="stylesheet">
<script type="text/javascript" src="/static/js/vendor.d529af5.js">
</script><script type="text/javascript" src="/static/js/Activity\index.248b787.js"></script>
</head>

<body>
  <div id="global_layout" v-cloak>
    <el-container>
      <el-main>
        <h3 class="title">会员注册</h3>
        <el-card>
          <div slot="header" class="clearfix">
            <el-form class="pull-left" :model="$data">
              <el-form-item
                label-width="80px"
                :rules="dateRules"
                prop="TimeCoupon"
                label="活动日期">
                <el-date-picker
                  :disabled="DisabledCoupon"
                  :editable="false"
                  v-model="TimeCoupon"
                  type="daterange"
                  align="right"
                  unlink-panels
                  range-separator="至"
                  start-placeholder="开始日期"
                  end-placeholder="结束日期"
                  value-format="yyyy-MM-dd"
                  :picker-options="PICKER_OPTIONS">
                </el-date-picker>
              </el-form-item>
            </el-form>
            <section class="pull-right">
              <el-button v-show="DisabledCoupon" type="warning" @click="DisabledCoupon = false">修 改</el-button>
              <el-button v-show="!DisabledCoupon" type="success" @click="ConfigCoupon__Ok(ConfigCoupon)">确 定</el-button>
            </section>
          </div>
          <transition-group name="el-fade-in-linear">
            <div v-for="(item, index) in ConfigCoupon" :key="index" class="item">
              <section class="left-vessel">
                <span>{{ index + 1 }}、会员注册成功后即送&nbsp;&nbsp;</span>
                <el-input-number
                  :disabled="DisabledCoupon"
                  :min="0"
                  size="mini"
                  controls-position="right"
                  v-model="item.number">
                </el-input-number>
                <span>&nbsp;&nbsp;张&nbsp;&nbsp;</span>
                <el-form :model="item">
                  <el-form-item prop="selected" :error="item.error">
                    <el-select
                      :disabled="DisabledCoupon"
                      v-model="item.selected"
                      size="mini"
                      value-key="name"
                      placeholder="请选择优惠券类型">
                      <el-option
                        :key="i"
                        v-for="(o, i) in item.options"
                        :label="o.name"
                        :value="o">
                      </el-option>
                    </el-select>
                  </el-form-item>
                </el-form>
                <span>&nbsp;&nbsp;洗车优惠券</span>
              </section>
              <section class="right-vessel">
                <el-button
                  v-if="index === ConfigCoupon.length - 1"
                  :disabled="DisabledCoupon"
                  plain
                  type="success"
                  size="mini"
                  icon="el-icon-circle-plus"
                  @click="ConfigCoupon__Add">
                </el-button>
                <el-button
                  v-if="ConfigCoupon.length > 1"
                  :disabled="DisabledCoupon"
                  plain
                  type="danger"
                  size="mini"
                  icon="el-icon-remove"
                  @click="ConfigCoupon__Remove(index)">
                </el-button>
              </section>
            </div>
          </transition-group>
        </el-card>
      </el-main>

      <el-main>
        <h3 class="title">充值满送</h3>
        <el-card>
          <div slot="header" class="clearfix">
            <el-form class="pull-left" :model="$data">
              <el-form-item
                label-width="80px"
                :rules="dateRules"
                prop="TimeRecharge"
                label="活动日期">
                <el-date-picker
                  :disabled="DisabledRecharge"
                  v-model="TimeRecharge"
                  type="daterange"
                  align="right"
                  unlink-panels
                  range-separator="至"
                  start-placeholder="开始日期"
                  end-placeholder="结束日期"
                  value-format="yyyy-MM-dd"
                  :picker-options="PICKER_OPTIONS">
                </el-date-picker>
              </el-form-item>
            </el-form>
            <section style="float: right">
              <el-button v-show="DisabledRecharge" type="warning" @click="DisabledRecharge = false">修 改</el-button>
              <el-button v-show="!DisabledRecharge" type="success" @click="ConfigRecharge__Ok(ConfigRecharge)">确 定</el-button>
            </section>
          </div>
          <transition-group name="el-fade-in-linear">
            <div v-for="(item, index) in ConfigRecharge" :key="index" class="item">
              <section class="left-vessel">
                <span>{{ index + 1 }}、用户充值满&nbsp;&nbsp;</span>
                <el-input-number
                  :disabled="DisabledRecharge"
                  :min="10"
                  :step="5"
                  size="mini"
                  controls-position="right"
                  v-model="item.top_up">
                </el-input-number>
                <span>&nbsp;&nbsp;元即送&nbsp;&nbsp;</span>
                <el-input-number
                  :disabled="DisabledRecharge"
                  :min="0"
                  size="mini"
                  controls-position="right"
                  v-model="item.give">
                </el-input-number>
                <span>&nbsp;&nbsp;元</span>
              </section>
              <section class="right-vessel">
                <el-button
                  v-if="index === ConfigRecharge.length - 1"
                  :disabled="DisabledRecharge"
                  plain
                  type="success"
                  size="mini"
                  icon="el-icon-circle-plus"
                  @click="ConfigRecharge__Add">
                </el-button>
                <el-button
                  v-if="ConfigRecharge.length > 1"
                  :disabled="DisabledRecharge"
                  plain
                  type="danger"
                  size="mini"
                  icon="el-icon-remove"
                  @click="ConfigRecharge__Remove(index)">
                </el-button>
              </section>
            </div>
          </transition-group>
        </el-card>
      </el-main>
    </el-container>
  </div>
</body>

</html>
